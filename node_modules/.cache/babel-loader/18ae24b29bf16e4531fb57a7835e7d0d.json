{"ast":null,"code":"var _jsxFileName = \"/Users/reisturm/Desktop/Projects/interactivemap/src/components/Searchbar.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport '../css/Searchbar.css';\nimport Suggestions from './Suggestions';\nexport class Searchbar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      buildings: []\n    };\n\n    this.handleInputChange = () => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        } else if (!this.state.query) {}\n      });\n    };\n  }\n\n  componentWillMount() {\n    getInfo = () => {\n      axios.get('http://localhost:4000/polygons').then(response => {\n        this.setState({\n          buildings: response.data\n        });\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"autoCompleteText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      color: \"black\",\n      placeholder: \"Search...\",\n      ref: input => this.search = input,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(Suggestions, {\n      results: this.state.buildings,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })));\n  }\n\n} // export class Searchbar extends Component {\n//   state = {\n//     buildings: [],\n//     suggestions: [],\n//     text: ''\n//   };\n//   getInfo = () => {\n//     axios.get('http://localhost:4000/polygons').then(response => {\n//       this.setState({\n//         buildings: response.data\n//       });\n//     });\n//   };\n//   // function that is called whenever input changes\n//   onTextChanged = e => {\n//     const value = e.target.value;\n//     let suggestions = [];\n//     if (value.length > 0) {\n//       const regex = new RegExp(`^${value}`, 'i');\n//       suggestions = this.state.buildings\n//         .map(building => building.name)\n//         .sort()\n//         .filter(v => regex.test(v));\n//     }\n//     this.setState(() => ({ suggestions, text: value }));\n//   };\n//   renderSuggestions() {\n//     const { suggestions } = this.state;\n//     if (suggestions.length === 0) {\n//       return null;\n//     }\n//     return (\n//       <ul>\n//         {suggestions.map(building => (\n//           <li onClick={() => this.suggestionSelected(building)}>{building}</li>\n//         ))}\n//       </ul>\n//     );\n//   }\n//   suggestionSelected(value) {\n//     this.setState(() => ({ text: value, suggestions: [] }));\n//   }\n//   render() {\n//     const { text } = this.state;\n//     return (\n//       <div className='autoCompleteText'>\n//         <input\n//           value={text}\n//           onChange={this.onTextChanged}\n//           placeholder='Search...'\n//           type='text'\n//         />\n//         {this.renderSuggestions()}\n//       </div>\n//     );\n//   }\n// }\n\nexport default Searchbar;","map":{"version":3,"sources":["/Users/reisturm/Desktop/Projects/interactivemap/src/components/Searchbar.js"],"names":["React","Component","axios","Suggestions","Searchbar","state","query","buildings","handleInputChange","setState","search","value","length","getInfo","componentWillMount","get","then","response","data","render","input"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,sBAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAO,MAAMC,SAAN,SAAwBH,SAAxB,CAAkC;AAAA;AAAA;AAAA,SACvCI,KADuC,GAC/B;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,SAAS,EAAE;AAFL,KAD+B;;AAAA,SAgBvCC,iBAhBuC,GAgBnB,MAAM;AACxB,WAAKC,QAAL,CACE;AACEH,QAAAA,KAAK,EAAE,KAAKI,MAAL,CAAYC;AADrB,OADF,EAIE,MAAM;AACJ,YAAI,KAAKN,KAAL,CAAWC,KAAX,IAAoB,KAAKD,KAAL,CAAWC,KAAX,CAAiBM,MAAjB,GAA0B,CAAlD,EAAqD;AACnD,cAAI,KAAKP,KAAL,CAAWC,KAAX,CAAiBM,MAAjB,GAA0B,CAA1B,KAAgC,CAApC,EAAuC;AACrC,iBAAKC,OAAL;AACD;AACF,SAJD,MAIO,IAAI,CAAC,KAAKR,KAAL,CAAWC,KAAhB,EAAuB,CAC7B;AACF,OAXH;AAaD,KA9BsC;AAAA;;AAMvCQ,EAAAA,kBAAkB,GAAG;AACnBD,IAAAA,OAAO,GAAG,MAAM;AACdX,MAAAA,KAAK,CAACa,GAAN,CAAU,gCAAV,EAA4CC,IAA5C,CAAiDC,QAAQ,IAAI;AAC3D,aAAKR,QAAL,CAAc;AACZF,UAAAA,SAAS,EAAEU,QAAQ,CAACC;AADR,SAAd;AAGD,OAJD;AAKD,KAND;AAOD;;AAkBDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,KAAK,EAAC,OADR;AAEE,MAAA,WAAW,EAAC,WAFd;AAGE,MAAA,GAAG,EAAEC,KAAK,IAAK,KAAKV,MAAL,GAAcU,KAH/B;AAIE,MAAA,QAAQ,EAAE,KAAKZ,iBAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWE,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF,CADF;AAaD;;AA9CsC,C,CAiDzC;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeH,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport '../css/Searchbar.css';\nimport Suggestions from './Suggestions';\n\nexport class Searchbar extends Component {\n  state = {\n    query: '',\n    buildings: []\n  };\n\n  componentWillMount() {\n    getInfo = () => {\n      axios.get('http://localhost:4000/polygons').then(response => {\n        this.setState({\n          buildings: response.data\n        });\n      });\n    };\n  }\n\n  handleInputChange = () => {\n    this.setState(\n      {\n        query: this.search.value\n      },\n      () => {\n        if (this.state.query && this.state.query.length > 1) {\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        } else if (!this.state.query) {\n        }\n      }\n    );\n  };\n\n  render() {\n    return (\n      <div className='autoCompleteText'>\n        <form>\n          <input\n            color='black'\n            placeholder='Search...'\n            ref={input => (this.search = input)}\n            onChange={this.handleInputChange}\n          />\n          <Suggestions results={this.state.buildings} />\n        </form>\n      </div>\n    );\n  }\n}\n\n// export class Searchbar extends Component {\n//   state = {\n//     buildings: [],\n//     suggestions: [],\n//     text: ''\n//   };\n\n//   getInfo = () => {\n//     axios.get('http://localhost:4000/polygons').then(response => {\n//       this.setState({\n//         buildings: response.data\n//       });\n//     });\n//   };\n//   // function that is called whenever input changes\n//   onTextChanged = e => {\n//     const value = e.target.value;\n//     let suggestions = [];\n//     if (value.length > 0) {\n//       const regex = new RegExp(`^${value}`, 'i');\n//       suggestions = this.state.buildings\n//         .map(building => building.name)\n//         .sort()\n//         .filter(v => regex.test(v));\n//     }\n//     this.setState(() => ({ suggestions, text: value }));\n//   };\n\n//   renderSuggestions() {\n//     const { suggestions } = this.state;\n//     if (suggestions.length === 0) {\n//       return null;\n//     }\n//     return (\n//       <ul>\n//         {suggestions.map(building => (\n//           <li onClick={() => this.suggestionSelected(building)}>{building}</li>\n//         ))}\n//       </ul>\n//     );\n//   }\n\n//   suggestionSelected(value) {\n//     this.setState(() => ({ text: value, suggestions: [] }));\n//   }\n//   render() {\n//     const { text } = this.state;\n\n//     return (\n//       <div className='autoCompleteText'>\n//         <input\n//           value={text}\n//           onChange={this.onTextChanged}\n//           placeholder='Search...'\n//           type='text'\n//         />\n//         {this.renderSuggestions()}\n//       </div>\n//     );\n//   }\n// }\n\nexport default Searchbar;\n"]},"metadata":{},"sourceType":"module"}