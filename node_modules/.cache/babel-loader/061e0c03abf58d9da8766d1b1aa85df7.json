{"ast":null,"code":"var _jsxFileName = \"/Users/reisturm/Desktop/Projects/interactivemap/src/components/Searchbar.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport '../css/Searchbar.css';\nimport Suggestions from './Suggestions';\nexport class Searchbar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      buildings: []\n    };\n\n    this.getInfo = () => {\n      axios.get('http://localhost:4000/polygons').then(response => {\n        console.log(response.data.map(d => d.desc));\n      });\n    };\n\n    this.handleInputChange = () => {\n      this.getInfo();\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"autoCompleteText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      color: \"black\",\n      placeholder: \"Search...\",\n      ref: input => this.search = input,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }), React.createElement(Suggestions, {\n      results: this.state.buildings,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    })));\n  }\n\n} // export class Searchbar extends Component {\n//   state = {\n//     buildings: [],\n//     suggestions: [],\n//     text: ''\n//   };\n//   getInfo = () => {\n//     axios.get('http://localhost:4000/polygons').then(response => {\n//       this.setState({\n//         buildings: response.data\n//       });\n//     });\n//   };\n//   // function that is called whenever input changes\n//   onTextChanged = e => {\n//     const value = e.target.value;\n//     let suggestions = [];\n//     if (value.length > 0) {\n//       const regex = new RegExp(`^${value}`, 'i');\n//       suggestions = this.state.buildings\n//         .map(building => building.name)\n//         .sort()\n//         .filter(v => regex.test(v));\n//     }\n//     this.setState(() => ({ suggestions, text: value }));\n//   };\n//   renderSuggestions() {\n//     const { suggestions } = this.state;\n//     if (suggestions.length === 0) {\n//       return null;\n//     }\n//     return (\n//       <ul>\n//         {suggestions.map(building => (\n//           <li onClick={() => this.suggestionSelected(building)}>{building}</li>\n//         ))}\n//       </ul>\n//     );\n//   }\n//   suggestionSelected(value) {\n//     this.setState(() => ({ text: value, suggestions: [] }));\n//   }\n//   render() {\n//     const { text } = this.state;\n//     return (\n//       <div className='autoCompleteText'>\n//         <input\n//           value={text}\n//           onChange={this.onTextChanged}\n//           placeholder='Search...'\n//           type='text'\n//         />\n//         {this.renderSuggestions()}\n//       </div>\n//     );\n//   }\n// }\n\nexport default Searchbar;","map":{"version":3,"sources":["/Users/reisturm/Desktop/Projects/interactivemap/src/components/Searchbar.js"],"names":["React","Component","axios","Suggestions","Searchbar","state","query","buildings","getInfo","get","then","response","console","log","data","map","d","desc","handleInputChange","render","input","search"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,sBAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAO,MAAMC,SAAN,SAAwBH,SAAxB,CAAkC;AAAA;AAAA;AAAA,SACvCI,KADuC,GAC/B;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,SAAS,EAAE;AAFL,KAD+B;;AAAA,SAMvCC,OANuC,GAM7B,MAAM;AACdN,MAAAA,KAAK,CAACO,GAAN,CAAU,gCAAV,EAA4CC,IAA5C,CAAiDC,QAAQ,IAAI;AAC3DC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcC,GAAd,CAAkBC,CAAC,IAAIA,CAAC,CAACC,IAAzB,CAAZ;AACD,OAFD;AAGD,KAVsC;;AAAA,SAYvCC,iBAZuC,GAYnB,MAAM;AACxB,WAAKV,OAAL;AACD,KAdsC;AAAA;;AAgBvCW,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,KAAK,EAAC,OADR;AAEE,MAAA,WAAW,EAAC,WAFd;AAGE,MAAA,GAAG,EAAEC,KAAK,IAAK,KAAKC,MAAL,GAAcD,KAH/B;AAIE,MAAA,QAAQ,EAAE,KAAKF,iBAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAE,KAAKb,KAAL,CAAWE,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF,CADF;AAaD;;AA9BsC,C,CAiCzC;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeH,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport '../css/Searchbar.css';\nimport Suggestions from './Suggestions';\n\nexport class Searchbar extends Component {\n  state = {\n    query: '',\n    buildings: []\n  };\n\n  getInfo = () => {\n    axios.get('http://localhost:4000/polygons').then(response => {\n      console.log(response.data.map(d => d.desc));\n    });\n  };\n\n  handleInputChange = () => {\n    this.getInfo();\n  };\n\n  render() {\n    return (\n      <div className='autoCompleteText'>\n        <form>\n          <input\n            color='black'\n            placeholder='Search...'\n            ref={input => (this.search = input)}\n            onChange={this.handleInputChange}\n          />\n          <Suggestions results={this.state.buildings} />\n        </form>\n      </div>\n    );\n  }\n}\n\n// export class Searchbar extends Component {\n//   state = {\n//     buildings: [],\n//     suggestions: [],\n//     text: ''\n//   };\n\n//   getInfo = () => {\n//     axios.get('http://localhost:4000/polygons').then(response => {\n//       this.setState({\n//         buildings: response.data\n//       });\n//     });\n//   };\n//   // function that is called whenever input changes\n//   onTextChanged = e => {\n//     const value = e.target.value;\n//     let suggestions = [];\n//     if (value.length > 0) {\n//       const regex = new RegExp(`^${value}`, 'i');\n//       suggestions = this.state.buildings\n//         .map(building => building.name)\n//         .sort()\n//         .filter(v => regex.test(v));\n//     }\n//     this.setState(() => ({ suggestions, text: value }));\n//   };\n\n//   renderSuggestions() {\n//     const { suggestions } = this.state;\n//     if (suggestions.length === 0) {\n//       return null;\n//     }\n//     return (\n//       <ul>\n//         {suggestions.map(building => (\n//           <li onClick={() => this.suggestionSelected(building)}>{building}</li>\n//         ))}\n//       </ul>\n//     );\n//   }\n\n//   suggestionSelected(value) {\n//     this.setState(() => ({ text: value, suggestions: [] }));\n//   }\n//   render() {\n//     const { text } = this.state;\n\n//     return (\n//       <div className='autoCompleteText'>\n//         <input\n//           value={text}\n//           onChange={this.onTextChanged}\n//           placeholder='Search...'\n//           type='text'\n//         />\n//         {this.renderSuggestions()}\n//       </div>\n//     );\n//   }\n// }\n\nexport default Searchbar;\n"]},"metadata":{},"sourceType":"module"}